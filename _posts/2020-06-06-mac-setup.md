---
layout: post
title: "Mac Setup"
feature-img: "assets/img/rainbow.jpg"
thumbnail: "assets/img/turtle.jpg"
tags: [Mac, Software]
last_modified: 2026-02-26
---

This post covers how I set up my shell and development environment on Mac. I use Windows, Mac, and Linux regularly, so I try to keep things consistent across platforms where I can. You can see the [software I use](https://jss367.github.io/software-i-use.html) and [how I customize it](https://jss367.github.io/software-customizations.html) in the linked posts; this one focuses on shell and terminal setup.

<b>Table of Contents</b>
* TOC
{:toc}

## Shell

On Macs, I use [zsh](https://www.zsh.org/) as my shell. It's been the default since macOS Catalina. My setup is built on top of [Oh My Zsh](https://ohmyz.sh/), which provides a nice framework for managing zsh configuration, themes, and plugins. You can check if it's installed with `ls ~/.oh-my-zsh`.

## Development Environment

I store my configuration in a [dotfiles repo](https://github.com/jss367/dotfiles) so I can sync it across machines. The core idea is simple: put all your portable configuration (aliases, functions, environment variables) in a single `~/.profile` file and symlink it from the repo. Then source it from whatever shell you're using.

### The Sourcing Chain

Here's how my config loads:

```
~/.zshrc  ->  oh-my-zsh auto-sources ~/.oh-my-zsh/custom/profile.zsh  ->  ~/.profile  ->  ~/.credentials
```

The pieces:

1. **`~/.zshrc`** loads Oh My Zsh, which automatically sources every `.zsh` file in `~/.oh-my-zsh/custom/`.
2. **`~/.oh-my-zsh/custom/profile.zsh`** is a one-line file: `source ~/.profile`. This is the bridge between zsh and your portable config. You need to create this file manually on each new machine.
3. **`~/.profile`** is where all the real configuration lives — aliases, functions, PATH modifications. This is the file I symlink from my dotfiles repo.
4. **`~/.credentials`** contains passwords and API keys. It's sourced from `.profile` but never committed to any repo.

### Don't Symlink .zshrc

I don't recommend making your `.zshrc` portable. Many tools modify `.zshrc` as part of their installation:

* `conda init` adds a conda initialization block
* nvm adds its loader
* Various tools (LM Studio, Windsurf, Google Cloud SDK, etc.) append PATH entries

Each of these will either overwrite your symlink with a regular file or modify your repo's copy with machine-specific paths. It's a constant battle.

Instead, I leave `.zshrc` as a regular local file on each machine. The things you actually want to sync — your aliases, functions, and shortcuts — belong in `.profile`. Let `.zshrc` handle the machine-specific stuff (Oh My Zsh setup, conda init, tool-specific PATH additions).

### Setting Up a New Machine

```bash
# Clone dotfiles
git clone https://github.com/YOUR_USER/dotfiles.git ~/git/dotfiles

# Symlink .profile
ln -sf ~/git/dotfiles/shell/profile ~/.profile

# Symlink .gitconfig
ln -sf ~/git/dotfiles/git/gitconfig ~/.gitconfig

# Create the oh-my-zsh bridge (one-time setup)
echo 'source ~/.profile' > ~/.oh-my-zsh/custom/profile.zsh
```

Then open a new terminal or run `source ~/.zshrc`.

## Terminal

I use [iTerm2](https://iterm2.com/) instead of the default Terminal app. I switch to the Dark Background profile.

## Installing Homebrew

[Homebrew](https://brew.sh/) is the standard Mac package manager. It installs to `/opt/homebrew` on Apple Silicon and `/usr/local` on Intel Macs.

After installing, Homebrew will tell you to add its shell setup to your profile. For Apple Silicon, your `~/.zprofile` should contain:

```bash
eval "$(/opt/homebrew/bin/brew shellenv)"
```

## Packages

Here are the packages I use to improve my terminal experience.

### powerlevel10k

[powerlevel10k](https://github.com/romkatv/powerlevel10k) is a fast, customizable zsh theme. Install it through Oh My Zsh (not through brew), then start a new terminal and it will walk you through configuration.

### zoxide

[zoxide](https://github.com/ajeetdsouza/zoxide) is a smarter `cd` that learns your most-used directories. After visiting a directory once, you can jump to it by typing any part of its name. I alias it to `j`:

```bash
alias j='z'
alias ji='zi'  # interactive mode with fzf
```

Add to your `.zshrc`:

```bash
eval "$(zoxide init zsh)"
```

### fzf

[fzf](https://github.com/junegunn/fzf) is a general-purpose fuzzy finder. It enhances ctrl+r history search, file finding, and more. Add to your `.zshrc`:

```bash
source <(fzf --zsh)
```

### zsh-autosuggestions

[zsh-autosuggestions](https://github.com/zsh-users/zsh-autosuggestions) suggests commands as you type based on your history. Install it, then add it to your Oh My Zsh plugins in `.zshrc`:

```bash
plugins=(git zsh-autosuggestions)
```

### zsh-syntax-highlighting

[zsh-syntax-highlighting](https://github.com/zsh-users/zsh-syntax-highlighting) highlights valid commands as you type — green for valid, red for invalid. After installing via brew, source it in your `.profile`:

```bash
source /opt/homebrew/share/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh
```

The path is `/usr/local/share/...` on Intel Macs.

### Pygments

[Pygments](https://pygments.org/) is a Python syntax highlighter. It's like `cat` with colors. I alias it to `ccat`:

```bash
alias ccat='pygmentize -O style=monokai -f console256 -g'
```

## Keyboard Customizations

By default, Option+Arrow doesn't jump between words in the terminal. Add this to your `.profile`:

```bash
bindkey "\e\e[D" backward-word
bindkey "\e\e[C" forward-word
```

I also remap some keys system-wide to make the control key more useful — ctrl+w to close tabs, ctrl+arrow to jump words in browsers, etc. [This Stack Overflow answer](https://stackoverflow.com/questions/6205157/how-to-set-keyboard-shortcuts-to-jump-to-beginning-end-of-line/22312856#22312856) explains how to set this up in iTerm2. Note that whether word-jumping works depends on the specific application.

## Conda

I install Anaconda for all users, which places it at `/opt/anaconda3/`. When you run `conda init zsh`, it adds an initialization block to your `.zshrc`. Leave it there.

### Conda and tmux

If you use `tmux`, be aware that it doesn't always source `.zshrc` — sometimes it only sources `.profile`. This means conda won't load in tmux sessions, and you might end up using the system Python instead. Check with `which python`. If this happens, move the conda initialization block from `.zshrc` into `.profile`.

## Alias Notes

When using shell variables in aliases, quoting matters. If you define a variable:

```bash
export BASE="$HOME/git"
```

You need double quotes in the alias so the variable gets expanded:

```bash
alias cdh="cd $BASE"  # works — $BASE is expanded
alias cdh='cd $BASE'  # won't work — $BASE stays literal
```

However, `$HOME` works with single quotes in most shells because it's expanded at a different stage.

## Debugging Your Environment

If something unexpected shows up in your environment, you can search for it across your shell config files:

```bash
grep 'mysterious_string' ~/.zshrc ~/.zprofile ~/.zshenv ~/.profile
```

## Useful Git Commands

A compact, colorized git log format:

```bash
git log --pretty=format:'%C(yellow)%h %Cred%ad %Cblue%an%Cgreen%d %Creset%s' --date=short
```

## Full .profile

My full `.profile` is available in [my dotfiles repo](https://github.com/jss367/dotfiles/blob/main/shell/profile).
